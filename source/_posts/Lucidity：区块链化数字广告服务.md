---
title: Lucidity：区块链化数字广告服务
tags:
  - 区块链(Blockchain)
originContent: ''
categories:
  - 博客
toc: false
abbrlink: 1800
date: 2020-11-09 17:20:46
---

![46609ca70ff62e169928a2df0201cede.jpg](/images/2020/11/09/56f4676e-33d4-45eb-8d96-68f8ed8250b2.jpg)
在阿尔的艺术家卧室，梵高）

互联网是全新媒体，它不仅仅可以有展示广告，正如电视、广播、报纸杂志能做到的那样，它还可以有数据化的服务，可以根据目标人群进行更为精准的投放，它会记录用户的浏览行为、搜索行为、社交关系等，由此预测用户的偏好和需求。

互联网的数字广告服务极大挤压了电视、广播、报纸杂志等媒体的空间，它毫无疑问大获全胜。

约翰·沃纳梅克的那句经典之语“我知道广告费有一半浪费了，却不知道是哪一半浪费了”，几乎人人知道。尴尬的是，一百年过去了，这个问题依然存在。

无法透明化是数字广告本身的讽刺

随着新闻门户、搜索引擎、社交网络、即时通讯、智能化资讯等互联网产品逐步落地，整个数字广告服务每年的行业收入高达 2000 多亿美元，这是一个非常庞大的产业。

互联网的到来确实给我们带来了一些更好的营销衡量工具，不管是投放的时候，还是衡量效果的时候，都更加方便了。比如投放可以选择地区、用户消费水平、兴趣偏好等，衡量时可以看到 ROI 的回报率等数据。但这个规模庞大的产业依然存在问题，整个行业依然缺乏透明度。

作为普通用户，经常会在网站、手机应用、短信、应用提醒、信息流等地方看到广告。但，不管是在搜索引擎、社交网络，还是在很多中小网站或应用投放广告，都不单纯是广告商和发行商直接合作那么简单，这里有广告联盟、需求平台、技术服务商、广告代理机构等。

比如，在资讯客户端做一个信息流广告，广告商可能需要找到合适的该资讯客户端的广告代理机构商议年度价格，签订合约之后，还会涉及到广告投放如何进行，是自己投放，还是由代理商帮忙投放，投放的时间、投放的位置、投放的内容都需要不断地优化，不然 ROI 很难增加上去，效果的衡量往往只能在不同的平台之间做对比。

总之，在整个数字广告领域，虽然在自动化上有了提升，但还是有很多不透明的地方。原因很简单，所有的广告活动投放，广告商是无法直接访问到源代码数据，所有的效果衡量都来自于供应商的报告。每个供应商衡量的方式也有不同。也就是，作为客户很难真正验证真实的情况。比如，有的搜索引擎的付费链接是按照点击付费的，作为广告商，有时候很难了解到这是真实用户的点击还是非真实用户的点击。这让广告商的营销成本大增。

根据统计，仅在 2017 年全球范围内广告欺诈成本高达 164 亿美元。广告欺骗形式很多，比如点击欺诈和域名欺骗。由于存在按点击付费的计算模式，就存在虚假点击的问题。域名欺骗则是通过假冒域名，把真实用户诱骗到非真实网站来获利 , 比如 santIment.com 和 santiment.com 两个域名，如果用户不仔细区分，可能就把它当成是同样的网站了。

另外，中小网站和应用接入广告联盟，作为发布商，也很难确定广告联盟的点击数据一定是真实和准确的。

此外，由于数字广告服务的数据统计存在差异，最终的账单核算耗费更长的时间，整体的流程显得冗长而麻烦。

总言之，今天的广告营销人有了更多的技术工具可以使用，也有更多的方法来评估投资回报率，但透明度依然无法得到保证，依然存在数据欺诈的问题。

这还远不是真正理想的数字广告营销，如何来解决一百年前提到的经典难题？

区块链的到来给予人们解决问题的希望。Lucidity 试图通过区块链技术来解决不透明的问题、解决广告欺诈的问题，给广告商带来更好的 ROI 回报，给优质发行商更多的利益。

值得关注的是，Lucidity 跟其他数字广告类区块链项目不同，它没有从一开始试图重构整个数字广告系统，而是采用了一个渐进式可平衡的方案。Lucidity 为整个数字广告生态提供一个基础的协议，它无须改变目前的投放流程和合作模式，但可以带来透明化的结果。

这对于实际的落地来说，非常有帮助。那么，它是如何做的？

数据透明带来 ROI 的提升

Lucidity 协议试图解决数字广告中最大的问题之一，就是数据透明。Lucidity 协议整体架构如下：
![0ec48af7097069a66a52827a8c817aff.jpg](/images/2020/11/09/ef0aa50b-2657-4080-b336-6722e355ae75.jpg)
其中底层是以太坊区块链，记录交易数据和执行智能合约。Lucidity 协议是构建在以太坊区块链上的协议，主要是验证可审计的数据集。最上层是 Lucidity 应用层，用于构建基于 Lucidity 协议的各种数字广告服务应用。

Lucidity 协议通过智能合约跟踪、验证整个数字广告参与者的广告数据，并最终达成共识。Lucidity 协议核心在于创建一个可以精确衡量营销数据的规则，解决数据存在差异或是欺诈的问题。在 Lucidity 协议之上，可以为广告商和发布商创建应用，并且由于 Lucidity 协议是开源的，任何人都可以在协议上创建自己的应用。

Lucidity 协议要串联起整个数字广告生态的各个角色，只要大家都采用了 Lucidity 协议，就有机会解决整个产业数据不透明的问题。Lucidity 最终目标是要成为整个数字广告生态中的基础协议，它构建在以太坊的区块链之上，为数字广告行业的各个角色创建自己的应用提供基础支持。

那么，对于数字广告行业中最重要的角色之一广告商来说，Lucidity 到底有什么用？简言之，Lucidity 协议可以解决 ROI 提升的问题。这是由于数据透明度带来的直接效果。
![135c496427c01254a51f8516fd329d1a.jpg](/images/2020/11/09/5ca1ecd2-7d8d-45f4-bc9f-fe364f712a88.jpg)
由此，对于广告商来说，ROI 提升的问题，转化成为数据透明度的问题。目前的数字广告投放过程中，存在很多黑盒，其中有技术供应商、代理商、发布商等，他们都可以维护自己的数据。每个参与的角色都试图按照自己利益最大化的方式来评估广告的效果，都试图维护自己的数据所有权。

当然，从博弈的角度来说，这无可厚非。而区块链提供一种新的选择，没有人可以拥有区块链，它是分布式账本。

Lucidity 可以通过身份识别、数据上链等方式来实现透明度。

在传统电视广播和报纸广告的时代，营销从业者们只能通过市场调查等方式来衡量广告的价值，永远无法做到精准，广撒网是无奈之举。

互联网时代可以记录和统计展示量、点击量、下载量、注册量、成交量、留存率等，确实有了很大的提升，但由于所有的流量背后是无法确定是不是真正的客户。有很多人为了薅羊毛，当你需要展示量和点击量的时候，完全可以通过机器点击的方式，让数据变得非常好看；当你需要下载量和注册量的时候，会使用各种分布式激励任务方式转包给无数的个体用户，所有的下载量和注册量是真实的，但他们却不是你的真实用户。

这些给广告商带来很大的困扰。好不容易有了更好的衡量广告价值的数字工具，结果又产生新的虚假问题。

Lucidity 的身份识别和数据上链可以解决虚假问题。

Lucidity 通过身份注册表和数字签名方式来实现身份识别，同时也可以保持匿名。这对于广告商来说，首先可以确定发布商的身份，不用担心机器人的虚假刷量和虚假繁荣，可以确认信息是在最合适的网站或应用上发布的。

通过 Lucidity 协议的好处是一旦数据达成共识上链之后，所有的数据和交易记录不可篡改，这对于行业的透明度和提升效率是有帮助的。

Lucidity 如何解决数据差异问题？

首先数据差异在广告产业链很常见。广告主和代理商之间、广告主和发布商之间、技术合作伙伴之间都会存在数据差异。

每个不同的参与者都会按照自己利益最大化的方式来进行博弈。为了梳理清楚数据的差异，营销从业者往往动用各个环节来寻找这些数据的差异，因为相互之间的利益诉求不同，也要花费很长的时间来进行博弈，结果是时间和金钱产生很大的浪费，更致命的是，这必然影响到业务推进的节奏。

Lucidity 要实现透明度，首要之处就是解决数据差异的问题。为解决数据差异，Lucidity 系统中有验证者的角色，验证者由广告主、发布商，还有其他第三方机构组成。验证者会因为自己的验证行为获得奖励。

验证者持有 Lucidity 代币，通过使用开源软件跟踪和验证营销活动，查看来自于广告商和发布商的数据流，向平台反馈验证者的独立记录指标。

为了鼓励精确的记录，回报与验证者的精确度进行挂钩。Lucidity 通过智能合约完成独立验证指标的汇总数据分析并得出共识。验证者们把独立纪录的指标数据提交到区块，投票过程自动开启。所有的数据记录都存储在智能合约。智能合约的算法会对提交的数据记录进行对比分析，最终得出与大多数验证者的结论相匹配的验证结果。

在正常情况下，所有验证者得出的验证结论是一致的。Lucidity 系统之所以通过算法进行验证分析，主要是为了防止有人恶意操控。一旦数据记录结果被验证，该数据将长期存储在区块链上，作为最终结果，不可篡改。

这样解决了数据差异的问题。比如关于曝光量的问题。可以基于 Lucidity 协议构建曝光量跟踪和验证的应用，让各参与者就曝光量达成数据的一致。

在自动投放广告的过程中，也会产生各种技术问题。比如广告无法正确呈现出来，甚至有时候无法加载到网页上。即使成功加载出来，消费者也可能没有看到。更有甚者，欺诈人冒充合法发布商进行流量的欺诈。

如果通过 Lucidity 协议实现对曝光量的跟踪和验证，可以达成各方数据的一致。Lucidity 是分散化的系统，所有验证者负责独立验证营销活动数据，允许所有参与者提交数据记录。数据记录包括曝光时间、加载时间等。这些数据通过智能合约算法进行验证并达成共识，验证结果最后发布到以太坊主链。

Lucidity 还可以帮助广告商对每笔投放款项进行追踪和验证。在传统广告竞价模式下，整个过程在几毫秒内完成，且由程序自动完成，广告商很难对成本进行追踪。有了 Lucidity 系统，广告主可以实现对每笔款项对追踪和验证，可以确定每笔投放的成本，查看单一发布商的情况。

真实用户价值的最大化：防止劣币淘汰良币

Lucidity 对于发布商来说，又有什么好处？对于发布商，尤其是优质流量发布商，能够拿回原本属于自己的收益。

对广告主的欺诈最终来说，不利于行业的发展，也有损优质发布商本身的利益。一些优质的流量发布商，一旦因为整个数字广告的声誉受损，广告库存资源也随之贬值。

更有甚者，优质发布商的身份被盗用，结果是利润被虚假流量的欺诈者盗取。前面也提到过，一些欺诈者会把自己的网站或者应用伪装成跟合法发布商一样，由此盗取发布商的广告库存资源。

比如说，竞价过程由程序自动完成。当程序把欺诈者的网站或应用当作成合法发布商的网站时，广告主的钱会流入虚假网站。这也意味着优质发布商的利润流失。而广告主支付的费用也浪费了，因为投放到了机器人网站。

通过 Lucidity 协议，可以创建防欺诈的应用。防欺诈应用可以让他们的广告库存资源更有价值。

Lucidity 为发布商的网站和移动应用创建去中心化的注册表，防止身份盗用和被欺诈。Lucidity 采用数字签名验证发布商的身份信息，这样欺诈者就无法进行身份盗用。同时，发布商加入还有一个好处，就是它的流量价值会被跟踪和验证。越是优质的发布商，会建立越靠谱的信誉，最终带来更多的业务。

用增强的方法达到颠覆的目的

按照目前区块链项目的普遍思路，广告行业的代理中介机构太多，区块链可以在广告商和发布商之间直接建立联系，甚至可以让广告商和数据的拥有者之间直接进行联系。比如在一个去中心化的区块链资讯项目中，用户的浏览数据、搜索数据、评论数据、个人资料数据等都是用户自己掌控的，广告商如果要给用户投放广告，必须首先得到用户的同意并支付相应数量的 token 才能进行。当然，这可能是未来区块链时代，数字广告的一种场景。

但目前来看，在相当长的一段时间内，广告商都拥有了用户绝大部分数据，并通过对用户数据的售卖获得盈利模式。在现有的框架下，我们有没有提升的可能？而不是等到所有条件都成熟了才去改变行业？

跟其他区块链项目不同，Lucidity 并没有试图通过直接的方式来改变目前行业参与者角色，而是通过区块链技术给参与方提供一个共同验证数据的方式，由此产生行业透明度，为广告商提升 ROI，为优质发布商夺回流量收益。

从操作角度，Lucidity 的使用也相对简单，广告商使用仪表盘进行广告活动的管理。通过仪表盘可以产生 Lucidity 跟踪网址。用户只需把 Lucidity 跟踪网址复制粘贴到广告代码中即可。操作完成，就能跟踪验证数据记录。

Lucidity的落地

Lucidity 本质是要做衡量广告指标的可信系统。它采用基于以太坊主链上的侧链技术，侧链由分布式的验证者们组成。Lucidity 通过区块链技术为数字广告业提供了一个去中心化的民主治理机制，最终来说提供了一个标准，它可以对各自分立的参与者提供的数据进行衡量。

它核心有几个方面：基于 Plasma 的侧链架构、注册表机制、PoS 共识以及资金管理。

侧链架构
这是 Lucidity 的侧链架构：
![b454e307c9daad4a559b9591b3987eb3.jpg](/images/2020/11/09/a24269f8-b6c2-4e34-8aa2-042ea8921453.jpg)
侧链的验证者运行开源软件，可以实现基于事件数据计算各种衡量指标的一组编码标准。每个验证者状态机可以独立跟踪、存储和计算广告衡量指标。在验证者内容分类帐中存储所有接收和计算的广告衡量的日志。验证者内部会有专门的代码来执行测量标准。比如如何定义显示广告。规范会作为数字测量标准编入验证器。

Lucidity 侧链的参与者在对数据进行数字签名后将其发送到验证者节点。进入侧链的事件必须使用 ECDSA 密钥对进行签名。Lucidity 协议采用的是“secp112r2”椭圆曲线算法。每个接受事件消息的验证者会根据参与者注册表来验证其签名。事件数据消息的内容也会根据事件的签名进行检查，这创建了每个广告事件源的路径。

注册表机制
目前数字广告衡量指标很难实施。原因是涉及到认证供应商的认证过程，这会让衡量指标升级和执行变得困难，很多公司直接放弃认证。

Lucidity 通过注册表机制，让参与者、验证者、广告活动实现可信的身份验证。它有注册表智能合约、参与者注册表、验证者注册表、广告活动注册表。注册表智能合约主要是一套智能合约，它包含注册表中的每个主体信息。每次一个主体通过智能合约添加或更新，都会发出日志消息。它允许验证者从注册表中缓存信息，在对注册表进行更新时才刷新缓存。

参与者注册表上的主体参与到侧链中。参与者包括广告商、DSP、交易平台、SSP、DMP、第三方等。参与者有自己的公钥，用于验证参与者发送给侧链的数据。

验证者注册表主要是指验证者以智能合约形式存储于注册表中，验证者被列入白名单。验证者可以将 IP 地址和验证者地址相关联。验证者最少需要锁定 1000MAT 代币。

广告活动注册表是指广告主可以创建活动跟踪广告数据指标。每个活动都有链上和链下部分。

3.PoS 共识

Lucidity 采用了 PoS 的共识算法，一个 token 相当于一个投票。Lucidity 侧链专员在每小时的第 30 分钟发起新一轮共识选举。专员角色只是发起选举和统计投票，对选举结果不产生影响。

选举期间，验证方运营者会对该选举时间段内收集的一组事件的根哈希值进行盲选。每个验证者的投票权由他们所抵押的代币数量进行加权。

一旦 2/3 的验证者节点达成共识，会创建一个新的侧链区块，区块包含验证者列表，以及计算出的指标的共识根哈希。验证者负责更新以太坊主链的余额。验证者们持续进行广告指标的计算，参与投票，实现在资产余额和广告指标上达成一致。

广告商最开始把资金存入相关的广告活动中，该资金会被智能合约锁定。如要从广告活动中提取代币，需要有资金存在的证明（Merkle 证明、活动 ID、可用余额、广告商地址）。

广告事件提交到验证者之前，事件先由相关参与方（广告商、DSP、SSP、发布商、交易平台、第三方等）签署，并根据签署时间进行排序。事件每 10 分钟作为一个共识轮次。每个广告活动要求有余额，如果余额为零，未处理的活动会等待 24 小时。完成指标计算之后，相应的费用会从广告活动资金中扣除。

验证者会监控智能合约中时间和变更，可以将变更转换为链下状态。变更被组织为 Merkle 树（广告商余额、验证者余额、广告指标）。只有 Merkle 根在主链上。这有利于系统的扩展性。

验证者使用代币为系统下一个状态进行投票。为防止一票多投，智能合约会在投票时阻止代币转移。一代币一票。验证者每 60 分钟参与一次投票。验证者提交一个加密元组（Merkle 根广告指标、广告商余额 Merkle 根，验证者余额 Merkle 根）。

验证者随机生成一个 256-bit 数字（salt）和哈希（SHA3）以及实际数据。投票阶段持续 5 分钟。在接下来的 5 分钟，验证者通过提交输入来显示实际数据。获得最多投票的元组获胜。获胜的元组被用于各种证明和作为系统的检查点。

共识系统产生的每个模块都由链上和链外部分组成。链上部分是区块头，链外部分是交易。

资金管理
资金通过一系列链上的智能合约进行管理。Lucidity 的机制是为特定的广告活动存入资金，同时也能作为验证者提取收入。

广告活动的链下部分由验证人进行管理。每个广告活动都有由智能合约产生的唯一 ID，更新广告活动的交易必须包含在与活动 ID 对应的 Merkle 树的位置中。

验证者余额也会被 Merkle 树化，他们的根也会存储进入每个区块头。每个验证者也有唯一的 ID，更新验证者余额的交易也必须包含在对应于验证者 ID 的 Merkle 树的位置中。验证者有两个余额，一个用于抵押贷币，一个用于代币收入。

侧链的参与者也能收到付款。每个参与者都有由智能合约生成的唯一 ID。最后，资金提取要求广告商或账户持有人必须有账户所有权证明和 Merkle 证明。提款申请会包括提取金额、目前账户余额以及 Merkle 证明。一旦证明和余额被验证，代币就会释放出来。

Lucidity代币价值与数字广告生态系统

Lucidity 的代币是功能代币，要想成为系统的验证者，需要购买 Lucidity 代币（MAT，营销分析代币）。有代币，才有访问平台的权限。只有持有 Lucidity 代币的验证者才可以使用开源软件来跟踪和验证营销活动，并查看广告商和发布商的数据流。

MAT 代币是营销分析代币的意思，它是权益、共识和治理代币，代表了验证者的工作贡献。MAT 的价值来源于整个数字广告生态系统中的参与者的数量和深度，使用 Lucidity 协议的参与者越多，验证者需要持有 MAT 就越多，这意味着 MAT 的需求越来越大，流通的 MAT 越来越少，MAT 价值越来越大。

鉴于广告业的发布商、广告商、DSP、技术提供商等有很多，验证者为数不少，如果 Lucidity 协议能够被数字广告业的参与者们接受，MAT 代币价值就有自己的根基。

对于验证者来说，由于采用的是 PoS，抵押了 MAT 代币，抵押的 MAT 越多，提交的数据精确度越高，收益也就越大，反之如果试图恶意破坏网络，自己也会遭受损失。

为什么需要 MAT 代币，而不是直接用 eth 进行抵押？对于验证者来说，作为整个 Lucidity 网络的一部分，用 MAT 代币跟他们有直接的关系，而 eth 涨跌跟他们的贡献没有直接挂钩。

结语

目前数字广告不少费用被浪费掉了，但是又不知道是怎么浪费的，目前整个生态的参与者都有各自的差异数据，很难达成共识，不仅浪费资金，还耗费精力和时间，拖慢业务节奏。

面对这种现状，有的区块链项目试图直接把所有的中介方都去除掉，让拥有数据的用户和广告商直接进行联系。不可否认，这是区块链给我们带来的远景，但这一天的最终到来，还需要比较长的时间。

Lucidity 利用区块链和智能合约技术，提出了一个新的解决方案，就是在不影响现有业务流程和参与者的前提下，通过 Lucidity 协议，让验证者提交数据记录，通过智能合约和 PoS 共识机制最终达成数据的共识，从而解决数据差异的问题，实现透明度，对于营销者来说，透明、准确、可靠意味者高效和更好的性价比。

此外，Lucidity 的注册表机制，可以让欺诈网站和欺诈应用无处入手，让优质的发行商能够得到本来应该属于他们的利润。

Lucidity 还充分利用了 PoS 的机制，激励验证者作出利于整个广告生态网络的贡献，提交更具有精确度的数据记录。最后所有的数据上链，公开、不可篡改、可审查，广告主也可以更好地衡量每笔投放的效果，更有效率地优化广告投放，实现提高 ROI 目标，以更少的费用获得更高的性价比。

如果 Lucidity 协议能够被数字广告业界所采用，它后续能够爆发出来的能量是比较迅速的，由于它的落地性极佳，相对于其他区块链项目来说，更容易在短期和中期内显示出效果。这样的探索值得期待。